{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\nexport async function login(email, password) {\n  const res = await axios.post(`${API_URL}/users/login`, {\n    email,\n    password\n  });\n  return res.data;\n}\nexport async function register(name, email, password) {\n  // Por defecto, el rol será 'PATIENT' para el portal de pacientes\n  const res = await axios.post(`${API_URL}/users`, {\n    name,\n    email,\n    password,\n    role: 'PATIENT'\n  });\n  return res.data;\n}\nexport function setToken(token) {\n  localStorage.setItem('token', token);\n}\nexport function getToken() {\n  return localStorage.getItem('token');\n}\nexport function logout() {\n  localStorage.removeItem('token');\n}","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","login","email","password","res","post","data","register","name","role","setToken","token","localStorage","setItem","getToken","getItem","logout","removeItem"],"sources":["/Users/jorgeivananaya/Desktop/sistema odontos/paciente-portal/src/services/auth.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';\n\nexport async function login(email: string, password: string) {\n  const res = await axios.post(`${API_URL}/users/login`, { email, password });\n  return res.data;\n}\n\nexport async function register(name: string, email: string, password: string) {\n  // Por defecto, el rol será 'PATIENT' para el portal de pacientes\n  const res = await axios.post(`${API_URL}/users`, { name, email, password, role: 'PATIENT' });\n  return res.data;\n}\n\nexport function setToken(token: string) {\n  localStorage.setItem('token', token);\n}\n\nexport function getToken() {\n  return localStorage.getItem('token');\n}\n\nexport function logout() {\n  localStorage.removeItem('token');\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE5E,OAAO,eAAeC,KAAKA,CAACC,KAAa,EAAEC,QAAgB,EAAE;EAC3D,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,cAAc,EAAE;IAAEK,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC3E,OAAOC,GAAG,CAACE,IAAI;AACjB;AAEA,OAAO,eAAeC,QAAQA,CAACC,IAAY,EAAEN,KAAa,EAAEC,QAAgB,EAAE;EAC5E;EACA,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,QAAQ,EAAE;IAAEW,IAAI;IAAEN,KAAK;IAAEC,QAAQ;IAAEM,IAAI,EAAE;EAAU,CAAC,CAAC;EAC5F,OAAOL,GAAG,CAACE,IAAI;AACjB;AAEA,OAAO,SAASI,QAAQA,CAACC,KAAa,EAAE;EACtCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;AACtC;AAEA,OAAO,SAASG,QAAQA,CAAA,EAAG;EACzB,OAAOF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;AACtC;AAEA,OAAO,SAASC,MAAMA,CAAA,EAAG;EACvBJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}